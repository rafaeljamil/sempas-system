<!-- Quill CSS -->
<link rel="stylesheet" href="/node_modules/quill/dist/quill.snow.css">

<form action="" method="post">
    <input name="body" type="hidden">
    <input name="pdfBlob" type="hidden">
    <div style="width:60vw;height:40vh;" id="quill-editor"></div>
    <button class="btn btn-primary my-2">Salvar</button>
    <a class="btn btn-danger my-2" href="/cadastros/<%=visita.usuarioId%>/visitas/<%=visita.id%>">Cancelar</a>
</form>

<!-- Quill JS -->
<script src="/node_modules/quill/dist/quill.js"></script>
<script src="/node_modules/quill-to-pdf/dist/main.js"></script>
<script>
    var quill = new Quill('#quill-editor', {theme: 'snow'});
    var form = document.querySelector('form');
    form.onsubmit = async function(){
        var pdfBlob = document.querySelector('input[name=pdfBlob]');
        var body = document.querySelector('input[name=body]');
        body.value = JSON.stringify(quill.getContents());
        pdfBlob.value =  quill.root.innerHTML;
    };
</script>