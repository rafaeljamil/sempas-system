<!-- Quill CSS -->
<link rel="stylesheet" href="/node_modules/quill/dist/quill.snow.css">

<div class="container-fluid my-4">
    <form action="" method="post">
        <div id="relatorio" style="display:none;"><%= rel.relatorio %></div>
        <input name="body" type="hidden">
        <div style="height:46vh;" id="quill-editor"></div>
        <button class="btn btn-primary my-2">Salvar</button>
        <a class="btn btn-danger my-2" href="/cadastros/<%=visita.usuarioId%>/visitas/<%=visita.id%>">Cancelar</a>
    </form>
</div>


<!-- Quill JS -->
<script src="/node_modules/quill/dist/quill.js"></script>
<script>
    var quill = new Quill('#quill-editor', {theme: 'snow'});
    var rel = document.querySelector('#relatorio');
    quill.setContents(JSON.parse(rel.innerHTML));
    var form = document.querySelector('form');
    form.onsubmit = function(){
        var body = document.querySelector('input[name=body]');
        body.value = JSON.stringify(quill.getContents());
    };
</script>